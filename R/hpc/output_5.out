
R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

Warning: namespace ‘hcw.study’ is not available and has been replaced
by .GlobalEnv when processing object ‘all_models_hcw_pre’
[Previously saved workspace restored]

> library(tidyverse)
── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──
✔ ggplot2 3.3.5     ✔ purrr   0.3.4
✔ tibble  3.1.6     ✔ dplyr   1.0.5
✔ tidyr   1.1.3     ✔ stringr 1.4.0
✔ readr   1.4.0     ✔ forcats 0.5.1
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
> library(plyr)
------------------------------------------------------------------------------
You have loaded plyr after dplyr - this is likely to cause problems.
If you need functions from both plyr and dplyr, please load plyr first, then dplyr:
library(plyr); library(dplyr)
------------------------------------------------------------------------------

Attaching package: ‘plyr’

The following objects are masked from ‘package:dplyr’:

    arrange, count, desc, failwith, id, mutate, rename, summarise,
    summarize

The following object is masked from ‘package:purrr’:

    compact

> library(data.table)

Attaching package: ‘data.table’

The following objects are masked from ‘package:dplyr’:

    between, first, last

The following object is masked from ‘package:purrr’:

    transpose

> library(ggplot2)
> library(foreach)

Attaching package: ‘foreach’

The following objects are masked from ‘package:purrr’:

    accumulate, when

> library(doParallel)
Loading required package: iterators
Loading required package: parallel
> # Must install these two
> library(serosolver)
> library(rcppfunchcw)
> library(devtools)
Loading required package: usethis
> library(here)
here() starts at /home/lshdh2/github/pilot.hcw

Attaching package: ‘here’

The following object is masked from ‘package:plyr’:

    here

Warning message:
In readLines(f, n) :
  incomplete final line found on '/home/lshdh2/github/pilot.hcw/DESCRIPTION'
> 
> taskIdChar <- Sys.getenv("SGE_TASK_ID")
> taskIdInteger <- (as.numeric(taskIdChar))
> 
> devtools::load_all() # hcwpre
ℹ Loading hcw.study

Attaching package: ‘magrittr’

The following object is masked from ‘package:purrr’:

    set_names

The following object is masked from ‘package:tidyr’:

    extract


Attaching package: ‘lubridate’

The following objects are masked from ‘package:data.table’:

    hour, isoweek, mday, minute, month, quarter, second, wday, week,
    yday, year

The following objects are masked from ‘package:base’:

    date, intersect, setdiff, union

There were 50 or more warnings (use warnings() to see the first 50)
> load(here::here("data", "hcwpre_data.RDS")) # hcwpre
> load(file = here::here("data", paste0("modelinfo_", hcwpre$study_name_short, ".RDS"))) # all_models_hcw_pre
> 
> cat(str(hcwpre))
List of 5
 $ study_name_full : chr "HCW_pilot"
 $ study_name_short: chr "hcw_pre"
 $ part_data       :'data.frame':	1762 obs. of  2 variables:
  ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
 $ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
 $ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
 - attr(*, "class")= chr [1:2] "list" "study"
> cat(str(all_models_hcw_pre))
List of 9
 $ :List of 5
  ..$ create_post               :List of 7
  .. ..$ par_tab                  :'data.frame':	21 obs. of  9 variables:
  .. .. ..$ names      : chr [1:21] "mu" "mu_short" "tau" "wane" ...
  .. .. ..$ values     : num [1:21] 1.8 0 0.05 0 0.1 0 9 1 1.3 2.7 ...
  .. .. ..$ fixed      : num [1:21] 0 1 0 1 0 1 1 0 1 1 ...
  .. .. ..$ steps      : num [1:21] 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...
  .. .. ..$ lower_bound: int [1:21] 0 0 0 0 0 0 8 0 0 0 ...
  .. .. ..$ upper_bound: int [1:21] 8 8 1 1 1 1 8 25 1000 1000 ...
  .. .. ..$ lower_start: num [1:21] 1 2 0.01 0.01 0.1 0.01 8 0.5 0 0 ...
  .. .. ..$ upper_start: num [1:21] 3e+00 3e+00 1e-01 1e-01 2e-01 1e-01 8e+00 2e+00 1e+03 1e+03 ...
  .. .. ..$ type       : int [1:21] 1 1 1 1 1 1 1 1 1 1 ...
  .. ..$ vac_history              : NULL
  .. ..$ vaccination_histories_mat: num [1:50, 1:50] 0 0 0 0 0 0 0 0 0 0 ...
  .. ..$ titre_data               :'data.frame':	3236 obs. of  8 variables:
  .. .. ..$ individual : int [1:3236] 1 1 2 2 2 2 2 2 2 2 ...
  .. .. ..$ DOB        : num [1:3236] 23868 23868 23688 23688 23688 ...
  .. .. ..$ virus      : num [1:3236] 23988 23988 23616 23616 23616 ...
  .. .. ..$ samples    : num [1:3236] 24192 24193 24192 24193 24198 ...
  .. .. ..$ run        : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ group      : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ sample_time: num [1:3236] 0 30 0 30 180 0 30 180 0 30 ...
  .. .. ..$ titre      : int [1:3236] 0 0 2 2 2 4 4 3 6 5 ...
  .. .. ..- attr(*, "na.action")= 'omit' Named int [1:3] 3 6 9
  .. .. .. ..- attr(*, "names")= chr [1:3] "3" "6" "9"
  .. ..$ antigenic_map            :'data.frame':	49 obs. of  3 variables:
  .. .. ..$ x_coord  : num [1:49] -0.0972 0.805 1.7072 2.6094 3.5117 ...
  .. .. ..$ y_coord  : num [1:49] 0.502 1.682 2.861 3.998 4.871 ...
  .. .. ..$ inf_times: num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ strain_isolation_times   : num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ prior_version            : num 2
  ..$ others                    :List of 5
  .. ..$ sample_yr  : num 2016
  .. ..$ study      :List of 5
  .. .. ..$ study_name_full : chr "HCW_pilot"
  .. .. ..$ study_name_short: chr "hcw_pre"
  .. .. ..$ part_data       :'data.frame':	1762 obs. of  2 variables:
  .. .. .. ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  .. .. .. ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
  .. .. ..$ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  .. .. .. ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  .. .. .. ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  .. .. .. ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  .. .. .. ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  .. .. .. ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  .. .. .. ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
  .. .. ..$ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  .. .. .. ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  .. .. .. ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  .. .. .. ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
  .. .. ..- attr(*, "class")= chr [1:2] "list" "study"
  .. ..$ output_file: chr "hpc/outputs/"
  .. ..$ model_name : chr "novac"
  .. ..$ pars_plot  : chr [1:3] "mu" "sigma1" "tau"
  ..$ prior_function            :function (cur_pars)  
  .. ..- attr(*, "srcref")= 'srcref' int [1:8] 23 30 23 60 30 60 23 23
  .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' <environment: 0x2857740> 
  ..$ custom_ab_kin_func        :function (predicted_titres, theta, infection_info, vaccination_info, setup_data, 
    indexing, antigenic_maps, other_pars)  
  ..$ custom_antigenic_maps_func:function (antigenic_map_melted, theta)  
 $ :List of 5
  ..$ create_post               :List of 7
  .. ..$ par_tab                  :'data.frame':	27 obs. of  9 variables:
  .. .. ..$ names      : chr [1:27] "mu" "mu_short" "tau" "wane" ...
  .. .. ..$ values     : num [1:27] 1.8 0 0.05 0 0.1 0 9 1 1.3 2.7 ...
  .. .. ..$ fixed      : num [1:27] 0 1 0 1 0 1 1 0 1 1 ...
  .. .. ..$ steps      : num [1:27] 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...
  .. .. ..$ lower_bound: num [1:27] 0 0 0 0 0 0 8 0 0 0 ...
  .. .. ..$ upper_bound: num [1:27] 8 8 1 1 1 1 8 25 1000 1000 ...
  .. .. ..$ lower_start: num [1:27] 1 2 0.01 0.01 0.1 0.01 8 0.5 0 0 ...
  .. .. ..$ upper_start: num [1:27] 3e+00 3e+00 1e-01 1e-01 2e-01 1e-01 8e+00 2e+00 1e+03 1e+03 ...
  .. .. ..$ type       : num [1:27] 1 1 1 1 1 1 1 1 1 1 ...
  .. ..$ vac_history              :'data.frame':	550 obs. of  5 variables:
  .. .. ..$ individual: int [1:550] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ virus     : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ time      : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ vac_flag  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..$ prev_vac  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. ..$ vaccination_histories_mat: num [1:50, 1:11] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : NULL
  .. .. .. ..$ : chr [1:11] "2006" "2007" "2008" "2009" ...
  .. ..$ titre_data               :'data.frame':	3236 obs. of  8 variables:
  .. .. ..$ individual : int [1:3236] 1 1 2 2 2 2 2 2 2 2 ...
  .. .. ..$ DOB        : num [1:3236] 23868 23868 23688 23688 23688 ...
  .. .. ..$ virus      : num [1:3236] 23988 23988 23616 23616 23616 ...
  .. .. ..$ samples    : num [1:3236] 24192 24193 24192 24193 24198 ...
  .. .. ..$ run        : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ group      : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ sample_time: num [1:3236] 0 30 0 30 180 0 30 180 0 30 ...
  .. .. ..$ titre      : int [1:3236] 0 0 2 2 2 4 4 3 6 5 ...
  .. .. ..- attr(*, "na.action")= 'omit' Named int [1:3] 3 6 9
  .. .. .. ..- attr(*, "names")= chr [1:3] "3" "6" "9"
  .. ..$ antigenic_map            :'data.frame':	49 obs. of  3 variables:
  .. .. ..$ x_coord  : num [1:49] -0.0972 0.805 1.7072 2.6094 3.5117 ...
  .. .. ..$ y_coord  : num [1:49] 0.502 1.682 2.861 3.998 4.871 ...
  .. .. ..$ inf_times: num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ strain_isolation_times   : num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ prior_version            : num 2
  ..$ others                    :List of 5
  .. ..$ sample_yr  : num 2016
  .. ..$ study      :List of 5
  .. .. ..$ study_name_full : chr "HCW_pilot"
  .. .. ..$ study_name_short: chr "hcw_pre"
  .. .. ..$ part_data       :'data.frame':	1762 obs. of  2 variables:
  .. .. .. ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  .. .. .. ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
  .. .. ..$ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  .. .. .. ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  .. .. .. ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  .. .. .. ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  .. .. .. ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  .. .. .. ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  .. .. .. ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
  .. .. ..$ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  .. .. .. ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  .. .. .. ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  .. .. .. ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
  .. .. ..- attr(*, "class")= chr [1:2] "list" "study"
  .. ..$ output_file: chr "hpc/outputs/"
  .. ..$ model_name : chr "vac_base"
  .. ..$ pars_plot  : chr [1:3] "mu" "sigma1" "tau"
  ..$ prior_function            :function (cur_pars)  
  .. ..- attr(*, "srcref")= 'srcref' int [1:8] 40 30 40 60 30 60 40 40
  .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' <environment: 0x2857740> 
  ..$ custom_ab_kin_func        :function (predicted_titres, theta, infection_info, vaccination_info, setup_data, 
    indexing, antigenic_maps, other_pars)  
  ..$ custom_antigenic_maps_func:function (antigenic_map_melted, theta)  
 $ :List of 5
  ..$ create_post               :List of 7
  .. ..$ par_tab                  :'data.frame':	27 obs. of  9 variables:
  .. .. ..$ names      : chr [1:27] "mu" "mu_short" "tau" "wane" ...
  .. .. ..$ values     : num [1:27] 1.8 0 0.05 0 0.1 0 9 1 1.3 2.7 ...
  .. .. ..$ fixed      : num [1:27] 0 1 0 1 0 1 1 0 1 1 ...
  .. .. ..$ steps      : num [1:27] 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...
  .. .. ..$ lower_bound: num [1:27] 0 0 0 0 0 0 8 0 0 0 ...
  .. .. ..$ upper_bound: num [1:27] 8 8 1 1 1 1 8 25 1000 1000 ...
  .. .. ..$ lower_start: num [1:27] 1 2 0.01 0.01 0.1 0.01 8 0.5 0 0 ...
  .. .. ..$ upper_start: num [1:27] 3e+00 3e+00 1e-01 1e-01 2e-01 1e-01 8e+00 2e+00 1e+03 1e+03 ...
  .. .. ..$ type       : num [1:27] 1 1 1 1 1 1 1 1 1 1 ...
  .. ..$ vac_history              :'data.frame':	550 obs. of  5 variables:
  .. .. ..$ individual: int [1:550] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ virus     : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ time      : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ vac_flag  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..$ prev_vac  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. ..$ vaccination_histories_mat: num [1:50, 1:11] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : NULL
  .. .. .. ..$ : chr [1:11] "2006" "2007" "2008" "2009" ...
  .. ..$ titre_data               :'data.frame':	3236 obs. of  8 variables:
  .. .. ..$ individual : int [1:3236] 1 1 2 2 2 2 2 2 2 2 ...
  .. .. ..$ DOB        : num [1:3236] 23868 23868 23688 23688 23688 ...
  .. .. ..$ virus      : num [1:3236] 23988 23988 23616 23616 23616 ...
  .. .. ..$ samples    : num [1:3236] 24192 24193 24192 24193 24198 ...
  .. .. ..$ run        : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ group      : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ sample_time: num [1:3236] 0 30 0 30 180 0 30 180 0 30 ...
  .. .. ..$ titre      : int [1:3236] 0 0 2 2 2 4 4 3 6 5 ...
  .. .. ..- attr(*, "na.action")= 'omit' Named int [1:3] 3 6 9
  .. .. .. ..- attr(*, "names")= chr [1:3] "3" "6" "9"
  .. ..$ antigenic_map            :'data.frame':	49 obs. of  3 variables:
  .. .. ..$ x_coord  : num [1:49] -0.0972 0.805 1.7072 2.6094 3.5117 ...
  .. .. ..$ y_coord  : num [1:49] 0.502 1.682 2.861 3.998 4.871 ...
  .. .. ..$ inf_times: num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ strain_isolation_times   : num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ prior_version            : num 2
  ..$ others                    :List of 5
  .. ..$ sample_yr  : num 2016
  .. ..$ study      :List of 5
  .. .. ..$ study_name_full : chr "HCW_pilot"
  .. .. ..$ study_name_short: chr "hcw_pre"
  .. .. ..$ part_data       :'data.frame':	1762 obs. of  2 variables:
  .. .. .. ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  .. .. .. ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
  .. .. ..$ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  .. .. .. ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  .. .. .. ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  .. .. .. ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  .. .. .. ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  .. .. .. ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  .. .. .. ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
  .. .. ..$ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  .. .. .. ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  .. .. .. ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  .. .. .. ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
  .. .. ..- attr(*, "class")= chr [1:2] "list" "study"
  .. ..$ output_file: chr "hpc/outputs/"
  .. ..$ model_name : chr "vac_m"
  .. ..$ pars_plot  : chr [1:4] "mu" "sigma1" "tau" "mu_vac"
  ..$ prior_function            :function (cur_pars)  
  .. ..- attr(*, "srcref")= 'srcref' int [1:8] 56 30 56 60 30 60 56 56
  .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' <environment: 0x2857740> 
  ..$ custom_ab_kin_func        :function (predicted_titres, theta, infection_info, vaccination_info, setup_data, 
    indexing, antigenic_maps, other_pars)  
  ..$ custom_antigenic_maps_func:function (antigenic_map_melted, theta)  
 $ :List of 5
  ..$ create_post               :List of 7
  .. ..$ par_tab                  :'data.frame':	27 obs. of  9 variables:
  .. .. ..$ names      : chr [1:27] "mu" "mu_short" "tau" "wane" ...
  .. .. ..$ values     : num [1:27] 1.8 0 0.05 0 0.1 0 9 1 1.3 2.7 ...
  .. .. ..$ fixed      : num [1:27] 0 1 0 1 0 1 1 0 1 1 ...
  .. .. ..$ steps      : num [1:27] 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...
  .. .. ..$ lower_bound: num [1:27] 0 0 0 0 0 0 8 0 0 0 ...
  .. .. ..$ upper_bound: num [1:27] 8 8 1 1 1 1 8 25 1000 1000 ...
  .. .. ..$ lower_start: num [1:27] 1 2 0.01 0.01 0.1 0.01 8 0.5 0 0 ...
  .. .. ..$ upper_start: num [1:27] 3e+00 3e+00 1e-01 1e-01 2e-01 1e-01 8e+00 2e+00 1e+03 1e+03 ...
  .. .. ..$ type       : num [1:27] 1 1 1 1 1 1 1 1 1 1 ...
  .. ..$ vac_history              :'data.frame':	550 obs. of  5 variables:
  .. .. ..$ individual: int [1:550] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ virus     : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ time      : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ vac_flag  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..$ prev_vac  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. ..$ vaccination_histories_mat: num [1:50, 1:11] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : NULL
  .. .. .. ..$ : chr [1:11] "2006" "2007" "2008" "2009" ...
  .. ..$ titre_data               :'data.frame':	3236 obs. of  8 variables:
  .. .. ..$ individual : int [1:3236] 1 1 2 2 2 2 2 2 2 2 ...
  .. .. ..$ DOB        : num [1:3236] 23868 23868 23688 23688 23688 ...
  .. .. ..$ virus      : num [1:3236] 23988 23988 23616 23616 23616 ...
  .. .. ..$ samples    : num [1:3236] 24192 24193 24192 24193 24198 ...
  .. .. ..$ run        : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ group      : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ sample_time: num [1:3236] 0 30 0 30 180 0 30 180 0 30 ...
  .. .. ..$ titre      : int [1:3236] 0 0 2 2 2 4 4 3 6 5 ...
  .. .. ..- attr(*, "na.action")= 'omit' Named int [1:3] 3 6 9
  .. .. .. ..- attr(*, "names")= chr [1:3] "3" "6" "9"
  .. ..$ antigenic_map            :'data.frame':	49 obs. of  3 variables:
  .. .. ..$ x_coord  : num [1:49] -0.0972 0.805 1.7072 2.6094 3.5117 ...
  .. .. ..$ y_coord  : num [1:49] 0.502 1.682 2.861 3.998 4.871 ...
  .. .. ..$ inf_times: num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ strain_isolation_times   : num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ prior_version            : num 2
  ..$ others                    :List of 5
  .. ..$ sample_yr  : num 2016
  .. ..$ study      :List of 5
  .. .. ..$ study_name_full : chr "HCW_pilot"
  .. .. ..$ study_name_short: chr "hcw_pre"
  .. .. ..$ part_data       :'data.frame':	1762 obs. of  2 variables:
  .. .. .. ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  .. .. .. ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
  .. .. ..$ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  .. .. .. ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  .. .. .. ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  .. .. .. ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  .. .. .. ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  .. .. .. ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  .. .. .. ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
  .. .. ..$ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  .. .. .. ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  .. .. .. ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  .. .. .. ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
  .. .. ..- attr(*, "class")= chr [1:2] "list" "study"
  .. ..$ output_file: chr "hpc/outputs/"
  .. ..$ model_name : chr "vac_s"
  .. ..$ pars_plot  : chr [1:4] "mu" "sigma1" "tau" "sigma1_vac"
  ..$ prior_function            :function (cur_pars)  
  .. ..- attr(*, "srcref")= 'srcref' int [1:8] 89 30 89 60 30 60 89 89
  .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' <environment: 0x2857740> 
  ..$ custom_ab_kin_func        :function (predicted_titres, theta, infection_info, vaccination_info, setup_data, 
    indexing, antigenic_maps, other_pars)  
  ..$ custom_antigenic_maps_func:function (antigenic_map_melted, theta)  
 $ :List of 5
  ..$ create_post               :List of 7
  .. ..$ par_tab                  :'data.frame':	27 obs. of  9 variables:
  .. .. ..$ names      : chr [1:27] "mu" "mu_short" "tau" "wane" ...
  .. .. ..$ values     : num [1:27] 1.8 0 0.05 0 0.1 0 9 1 1.3 2.7 ...
  .. .. ..$ fixed      : num [1:27] 0 1 0 1 0 1 1 0 1 1 ...
  .. .. ..$ steps      : num [1:27] 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...
  .. .. ..$ lower_bound: num [1:27] 0 0 0 0 0 0 8 0 0 0 ...
  .. .. ..$ upper_bound: num [1:27] 8 8 1 1 1 1 8 25 1000 1000 ...
  .. .. ..$ lower_start: num [1:27] 1 2 0.01 0.01 0.1 0.01 8 0.5 0 0 ...
  .. .. ..$ upper_start: num [1:27] 3e+00 3e+00 1e-01 1e-01 2e-01 1e-01 8e+00 2e+00 1e+03 1e+03 ...
  .. .. ..$ type       : num [1:27] 1 1 1 1 1 1 1 1 1 1 ...
  .. ..$ vac_history              :'data.frame':	550 obs. of  5 variables:
  .. .. ..$ individual: int [1:550] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ virus     : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ time      : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ vac_flag  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..$ prev_vac  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. ..$ vaccination_histories_mat: num [1:50, 1:11] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : NULL
  .. .. .. ..$ : chr [1:11] "2006" "2007" "2008" "2009" ...
  .. ..$ titre_data               :'data.frame':	3236 obs. of  8 variables:
  .. .. ..$ individual : int [1:3236] 1 1 2 2 2 2 2 2 2 2 ...
  .. .. ..$ DOB        : num [1:3236] 23868 23868 23688 23688 23688 ...
  .. .. ..$ virus      : num [1:3236] 23988 23988 23616 23616 23616 ...
  .. .. ..$ samples    : num [1:3236] 24192 24193 24192 24193 24198 ...
  .. .. ..$ run        : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ group      : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ sample_time: num [1:3236] 0 30 0 30 180 0 30 180 0 30 ...
  .. .. ..$ titre      : int [1:3236] 0 0 2 2 2 4 4 3 6 5 ...
  .. .. ..- attr(*, "na.action")= 'omit' Named int [1:3] 3 6 9
  .. .. .. ..- attr(*, "names")= chr [1:3] "3" "6" "9"
  .. ..$ antigenic_map            :'data.frame':	49 obs. of  3 variables:
  .. .. ..$ x_coord  : num [1:49] -0.0972 0.805 1.7072 2.6094 3.5117 ...
  .. .. ..$ y_coord  : num [1:49] 0.502 1.682 2.861 3.998 4.871 ...
  .. .. ..$ inf_times: num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ strain_isolation_times   : num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ prior_version            : num 2
  ..$ others                    :List of 5
  .. ..$ sample_yr  : num 2016
  .. ..$ study      :List of 5
  .. .. ..$ study_name_full : chr "HCW_pilot"
  .. .. ..$ study_name_short: chr "hcw_pre"
  .. .. ..$ part_data       :'data.frame':	1762 obs. of  2 variables:
  .. .. .. ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  .. .. .. ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
  .. .. ..$ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  .. .. .. ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  .. .. .. ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  .. .. .. ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  .. .. .. ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  .. .. .. ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  .. .. .. ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
  .. .. ..$ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  .. .. .. ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  .. .. .. ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  .. .. .. ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
  .. .. ..- attr(*, "class")= chr [1:2] "list" "study"
  .. ..$ output_file: chr "hpc/outputs/"
  .. ..$ model_name : chr "vac_t"
  .. ..$ pars_plot  : chr [1:4] "mu" "sigma1" "tau" "tau_prev_vac"
  ..$ prior_function            :function (cur_pars)  
  .. ..- attr(*, "srcref")= 'srcref' int [1:8] 72 30 72 60 30 60 72 72
  .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' <environment: 0x2857740> 
  ..$ custom_ab_kin_func        :function (predicted_titres, theta, infection_info, vaccination_info, setup_data, 
    indexing, antigenic_maps, other_pars)  
  ..$ custom_antigenic_maps_func:function (antigenic_map_melted, theta)  
 $ :List of 5
  ..$ create_post               :List of 7
  .. ..$ par_tab                  :'data.frame':	27 obs. of  9 variables:
  .. .. ..$ names      : chr [1:27] "mu" "mu_short" "tau" "wane" ...
  .. .. ..$ values     : num [1:27] 1.8 0 0.05 0 0.1 0 9 1 1.3 2.7 ...
  .. .. ..$ fixed      : num [1:27] 0 1 0 1 0 1 1 0 1 1 ...
  .. .. ..$ steps      : num [1:27] 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...
  .. .. ..$ lower_bound: num [1:27] 0 0 0 0 0 0 8 0 0 0 ...
  .. .. ..$ upper_bound: num [1:27] 8 8 1 1 1 1 8 25 1000 1000 ...
  .. .. ..$ lower_start: num [1:27] 1 2 0.01 0.01 0.1 0.01 8 0.5 0 0 ...
  .. .. ..$ upper_start: num [1:27] 3e+00 3e+00 1e-01 1e-01 2e-01 1e-01 8e+00 2e+00 1e+03 1e+03 ...
  .. .. ..$ type       : num [1:27] 1 1 1 1 1 1 1 1 1 1 ...
  .. ..$ vac_history              :'data.frame':	550 obs. of  5 variables:
  .. .. ..$ individual: int [1:550] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ virus     : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ time      : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ vac_flag  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..$ prev_vac  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. ..$ vaccination_histories_mat: num [1:50, 1:11] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : NULL
  .. .. .. ..$ : chr [1:11] "2006" "2007" "2008" "2009" ...
  .. ..$ titre_data               :'data.frame':	3236 obs. of  8 variables:
  .. .. ..$ individual : int [1:3236] 1 1 2 2 2 2 2 2 2 2 ...
  .. .. ..$ DOB        : num [1:3236] 23868 23868 23688 23688 23688 ...
  .. .. ..$ virus      : num [1:3236] 23988 23988 23616 23616 23616 ...
  .. .. ..$ samples    : num [1:3236] 24192 24193 24192 24193 24198 ...
  .. .. ..$ run        : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ group      : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ sample_time: num [1:3236] 0 30 0 30 180 0 30 180 0 30 ...
  .. .. ..$ titre      : int [1:3236] 0 0 2 2 2 4 4 3 6 5 ...
  .. .. ..- attr(*, "na.action")= 'omit' Named int [1:3] 3 6 9
  .. .. .. ..- attr(*, "names")= chr [1:3] "3" "6" "9"
  .. ..$ antigenic_map            :'data.frame':	49 obs. of  3 variables:
  .. .. ..$ x_coord  : num [1:49] -0.0972 0.805 1.7072 2.6094 3.5117 ...
  .. .. ..$ y_coord  : num [1:49] 0.502 1.682 2.861 3.998 4.871 ...
  .. .. ..$ inf_times: num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ strain_isolation_times   : num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ prior_version            : num 2
  ..$ others                    :List of 5
  .. ..$ sample_yr  : num 2016
  .. ..$ study      :List of 5
  .. .. ..$ study_name_full : chr "HCW_pilot"
  .. .. ..$ study_name_short: chr "hcw_pre"
  .. .. ..$ part_data       :'data.frame':	1762 obs. of  2 variables:
  .. .. .. ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  .. .. .. ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
  .. .. ..$ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  .. .. .. ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  .. .. .. ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  .. .. .. ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  .. .. .. ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  .. .. .. ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  .. .. .. ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
  .. .. ..$ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  .. .. .. ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  .. .. .. ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  .. .. .. ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
  .. .. ..- attr(*, "class")= chr [1:2] "list" "study"
  .. ..$ output_file: chr "hpc/outputs/"
  .. ..$ model_name : chr "vac_ms"
  .. ..$ pars_plot  : chr [1:5] "mu" "sigma1" "tau" "mu_vac" ...
  ..$ prior_function            :function (cur_pars)  
  .. ..- attr(*, "srcref")= 'srcref' int [1:8] 123 30 123 60 30 60 123 123
  .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' <environment: 0x2857740> 
  ..$ custom_ab_kin_func        :function (predicted_titres, theta, infection_info, vaccination_info, setup_data, 
    indexing, antigenic_maps, other_pars)  
  ..$ custom_antigenic_maps_func:function (antigenic_map_melted, theta)  
 $ :List of 5
  ..$ create_post               :List of 7
  .. ..$ par_tab                  :'data.frame':	27 obs. of  9 variables:
  .. .. ..$ names      : chr [1:27] "mu" "mu_short" "tau" "wane" ...
  .. .. ..$ values     : num [1:27] 1.8 0 0.05 0 0.1 0 9 1 1.3 2.7 ...
  .. .. ..$ fixed      : num [1:27] 0 1 0 1 0 1 1 0 1 1 ...
  .. .. ..$ steps      : num [1:27] 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...
  .. .. ..$ lower_bound: num [1:27] 0 0 0 0 0 0 8 0 0 0 ...
  .. .. ..$ upper_bound: num [1:27] 8 8 1 1 1 1 8 25 1000 1000 ...
  .. .. ..$ lower_start: num [1:27] 1 2 0.01 0.01 0.1 0.01 8 0.5 0 0 ...
  .. .. ..$ upper_start: num [1:27] 3e+00 3e+00 1e-01 1e-01 2e-01 1e-01 8e+00 2e+00 1e+03 1e+03 ...
  .. .. ..$ type       : num [1:27] 1 1 1 1 1 1 1 1 1 1 ...
  .. ..$ vac_history              :'data.frame':	550 obs. of  5 variables:
  .. .. ..$ individual: int [1:550] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ virus     : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ time      : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ vac_flag  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..$ prev_vac  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. ..$ vaccination_histories_mat: num [1:50, 1:11] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : NULL
  .. .. .. ..$ : chr [1:11] "2006" "2007" "2008" "2009" ...
  .. ..$ titre_data               :'data.frame':	3236 obs. of  8 variables:
  .. .. ..$ individual : int [1:3236] 1 1 2 2 2 2 2 2 2 2 ...
  .. .. ..$ DOB        : num [1:3236] 23868 23868 23688 23688 23688 ...
  .. .. ..$ virus      : num [1:3236] 23988 23988 23616 23616 23616 ...
  .. .. ..$ samples    : num [1:3236] 24192 24193 24192 24193 24198 ...
  .. .. ..$ run        : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ group      : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ sample_time: num [1:3236] 0 30 0 30 180 0 30 180 0 30 ...
  .. .. ..$ titre      : int [1:3236] 0 0 2 2 2 4 4 3 6 5 ...
  .. .. ..- attr(*, "na.action")= 'omit' Named int [1:3] 3 6 9
  .. .. .. ..- attr(*, "names")= chr [1:3] "3" "6" "9"
  .. ..$ antigenic_map            :'data.frame':	49 obs. of  3 variables:
  .. .. ..$ x_coord  : num [1:49] -0.0972 0.805 1.7072 2.6094 3.5117 ...
  .. .. ..$ y_coord  : num [1:49] 0.502 1.682 2.861 3.998 4.871 ...
  .. .. ..$ inf_times: num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ strain_isolation_times   : num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ prior_version            : num 2
  ..$ others                    :List of 5
  .. ..$ sample_yr  : num 2016
  .. ..$ study      :List of 5
  .. .. ..$ study_name_full : chr "HCW_pilot"
  .. .. ..$ study_name_short: chr "hcw_pre"
  .. .. ..$ part_data       :'data.frame':	1762 obs. of  2 variables:
  .. .. .. ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  .. .. .. ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
  .. .. ..$ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  .. .. .. ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  .. .. .. ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  .. .. .. ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  .. .. .. ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  .. .. .. ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  .. .. .. ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
  .. .. ..$ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  .. .. .. ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  .. .. .. ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  .. .. .. ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
  .. .. ..- attr(*, "class")= chr [1:2] "list" "study"
  .. ..$ output_file: chr "hpc/outputs/"
  .. ..$ model_name : chr "vac_mt"
  .. ..$ pars_plot  : chr [1:5] "mu" "sigma1" "tau" "mu_vac" ...
  ..$ prior_function            :function (cur_pars)  
  .. ..- attr(*, "srcref")= 'srcref' int [1:8] 106 30 106 60 30 60 106 106
  .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' <environment: 0x2857740> 
  ..$ custom_ab_kin_func        :function (predicted_titres, theta, infection_info, vaccination_info, setup_data, 
    indexing, antigenic_maps, other_pars)  
  ..$ custom_antigenic_maps_func:function (antigenic_map_melted, theta)  
 $ :List of 5
  ..$ create_post               :List of 7
  .. ..$ par_tab                  :'data.frame':	27 obs. of  9 variables:
  .. .. ..$ names      : chr [1:27] "mu" "mu_short" "tau" "wane" ...
  .. .. ..$ values     : num [1:27] 1.8 0 0.05 0 0.1 0 9 1 1.3 2.7 ...
  .. .. ..$ fixed      : num [1:27] 0 1 0 1 0 1 1 0 1 1 ...
  .. .. ..$ steps      : num [1:27] 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...
  .. .. ..$ lower_bound: num [1:27] 0 0 0 0 0 0 8 0 0 0 ...
  .. .. ..$ upper_bound: num [1:27] 8 8 1 1 1 1 8 25 1000 1000 ...
  .. .. ..$ lower_start: num [1:27] 1 2 0.01 0.01 0.1 0.01 8 0.5 0 0 ...
  .. .. ..$ upper_start: num [1:27] 3e+00 3e+00 1e-01 1e-01 2e-01 1e-01 8e+00 2e+00 1e+03 1e+03 ...
  .. .. ..$ type       : num [1:27] 1 1 1 1 1 1 1 1 1 1 ...
  .. ..$ vac_history              :'data.frame':	550 obs. of  5 variables:
  .. .. ..$ individual: int [1:550] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ virus     : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ time      : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ vac_flag  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..$ prev_vac  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. ..$ vaccination_histories_mat: num [1:50, 1:11] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : NULL
  .. .. .. ..$ : chr [1:11] "2006" "2007" "2008" "2009" ...
  .. ..$ titre_data               :'data.frame':	3236 obs. of  8 variables:
  .. .. ..$ individual : int [1:3236] 1 1 2 2 2 2 2 2 2 2 ...
  .. .. ..$ DOB        : num [1:3236] 23868 23868 23688 23688 23688 ...
  .. .. ..$ virus      : num [1:3236] 23988 23988 23616 23616 23616 ...
  .. .. ..$ samples    : num [1:3236] 24192 24193 24192 24193 24198 ...
  .. .. ..$ run        : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ group      : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ sample_time: num [1:3236] 0 30 0 30 180 0 30 180 0 30 ...
  .. .. ..$ titre      : int [1:3236] 0 0 2 2 2 4 4 3 6 5 ...
  .. .. ..- attr(*, "na.action")= 'omit' Named int [1:3] 3 6 9
  .. .. .. ..- attr(*, "names")= chr [1:3] "3" "6" "9"
  .. ..$ antigenic_map            :'data.frame':	49 obs. of  3 variables:
  .. .. ..$ x_coord  : num [1:49] -0.0972 0.805 1.7072 2.6094 3.5117 ...
  .. .. ..$ y_coord  : num [1:49] 0.502 1.682 2.861 3.998 4.871 ...
  .. .. ..$ inf_times: num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ strain_isolation_times   : num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ prior_version            : num 2
  ..$ others                    :List of 5
  .. ..$ sample_yr  : num 2016
  .. ..$ study      :List of 5
  .. .. ..$ study_name_full : chr "HCW_pilot"
  .. .. ..$ study_name_short: chr "hcw_pre"
  .. .. ..$ part_data       :'data.frame':	1762 obs. of  2 variables:
  .. .. .. ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  .. .. .. ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
  .. .. ..$ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  .. .. .. ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  .. .. .. ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  .. .. .. ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  .. .. .. ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  .. .. .. ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  .. .. .. ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
  .. .. ..$ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  .. .. .. ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  .. .. .. ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  .. .. .. ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
  .. .. ..- attr(*, "class")= chr [1:2] "list" "study"
  .. ..$ output_file: chr "hpc/outputs/"
  .. ..$ model_name : chr "vac_ts"
  .. ..$ pars_plot  : chr [1:5] "mu" "sigma1" "tau" "tau_prev_vac" ...
  ..$ prior_function            :function (cur_pars)  
  .. ..- attr(*, "srcref")= 'srcref' int [1:8] 140 30 140 60 30 60 140 140
  .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' <environment: 0x2857740> 
  ..$ custom_ab_kin_func        :function (predicted_titres, theta, infection_info, vaccination_info, setup_data, 
    indexing, antigenic_maps, other_pars)  
  ..$ custom_antigenic_maps_func:function (antigenic_map_melted, theta)  
 $ :List of 5
  ..$ create_post               :List of 7
  .. ..$ par_tab                  :'data.frame':	27 obs. of  9 variables:
  .. .. ..$ names      : chr [1:27] "mu" "mu_short" "tau" "wane" ...
  .. .. ..$ values     : num [1:27] 1.8 0 0.05 0 0.1 0 9 1 1.3 2.7 ...
  .. .. ..$ fixed      : num [1:27] 0 1 0 1 0 1 1 0 1 1 ...
  .. .. ..$ steps      : num [1:27] 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...
  .. .. ..$ lower_bound: num [1:27] 0 0 0 0 0 0 8 0 0 0 ...
  .. .. ..$ upper_bound: num [1:27] 8 8 1 1 1 1 8 25 1000 1000 ...
  .. .. ..$ lower_start: num [1:27] 1 2 0.01 0.01 0.1 0.01 8 0.5 0 0 ...
  .. .. ..$ upper_start: num [1:27] 3e+00 3e+00 1e-01 1e-01 2e-01 1e-01 8e+00 2e+00 1e+03 1e+03 ...
  .. .. ..$ type       : num [1:27] 1 1 1 1 1 1 1 1 1 1 ...
  .. ..$ vac_history              :'data.frame':	550 obs. of  5 variables:
  .. .. ..$ individual: int [1:550] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ virus     : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ time      : num [1:550] 24072 24084 24096 24108 24120 ...
  .. .. ..$ vac_flag  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..$ prev_vac  : num [1:550] 0 0 0 0 0 0 0 0 0 0 ...
  .. ..$ vaccination_histories_mat: num [1:50, 1:11] 0 0 0 0 0 0 0 0 0 0 ...
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : NULL
  .. .. .. ..$ : chr [1:11] "2006" "2007" "2008" "2009" ...
  .. ..$ titre_data               :'data.frame':	3236 obs. of  8 variables:
  .. .. ..$ individual : int [1:3236] 1 1 2 2 2 2 2 2 2 2 ...
  .. .. ..$ DOB        : num [1:3236] 23868 23868 23688 23688 23688 ...
  .. .. ..$ virus      : num [1:3236] 23988 23988 23616 23616 23616 ...
  .. .. ..$ samples    : num [1:3236] 24192 24193 24192 24193 24198 ...
  .. .. ..$ run        : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ group      : int [1:3236] 1 1 1 1 1 1 1 1 1 1 ...
  .. .. ..$ sample_time: num [1:3236] 0 30 0 30 180 0 30 180 0 30 ...
  .. .. ..$ titre      : int [1:3236] 0 0 2 2 2 4 4 3 6 5 ...
  .. .. ..- attr(*, "na.action")= 'omit' Named int [1:3] 3 6 9
  .. .. .. ..- attr(*, "names")= chr [1:3] "3" "6" "9"
  .. ..$ antigenic_map            :'data.frame':	49 obs. of  3 variables:
  .. .. ..$ x_coord  : num [1:49] -0.0972 0.805 1.7072 2.6094 3.5117 ...
  .. .. ..$ y_coord  : num [1:49] 0.502 1.682 2.861 3.998 4.871 ...
  .. .. ..$ inf_times: num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ strain_isolation_times   : num [1:49] 23616 23628 23640 23652 23664 ...
  .. ..$ prior_version            : num 2
  ..$ others                    :List of 5
  .. ..$ sample_yr  : num 2016
  .. ..$ study      :List of 5
  .. .. ..$ study_name_full : chr "HCW_pilot"
  .. .. ..$ study_name_short: chr "hcw_pre"
  .. .. ..$ part_data       :'data.frame':	1762 obs. of  2 variables:
  .. .. .. ..$ pid: chr [1:1762] "RMH0096" "RMH0096" "RMH0096" "RMH0003" ...
  .. .. .. ..$ yob: int [1:1762] 1989 1989 1989 1974 1974 1974 1974 1974 1974 1974 ...
  .. .. ..$ sero_data       : tibble [5,286 × 7] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid            : chr [1:5286] "RMH0096" "RMH0096" "RMH0096" "RMH0096" ...
  .. .. .. ..$ virus_id       : int [1:5286] 49 49 49 48 48 48 47 47 47 8 ...
  .. .. .. ..$ virus_name     : chr [1:5286] "Kansas/14/17" "Kansas/14/17" "Kansas/14/17" "Brisbane/60/18" ...
  .. .. .. ..$ virus_isol_date: chr [1:5286] "14/12/2017" "14/12/2017" "14/12/2017" "16/05/2018" ...
  .. .. .. ..$ virus_isol_yr  : int [1:5286] 2017 2017 2017 2018 2018 2018 1999 1999 1999 1989 ...
  .. .. .. ..$ sample_time    : num [1:5286] 0 30 180 0 30 180 0 30 180 0 ...
  .. .. .. ..$ titre_value    : int [1:5286] 0 1 NA 0 2 NA 0 0 NA 2 ...
  .. .. ..$ vac_data        : tibble [1,900 × 4] (S3: tbl_df/tbl/data.frame)
  .. .. .. ..$ pid         : chr [1:1900] "RMH0001" "RMH0001" "RMH0001" "RMH0001" ...
  .. .. .. ..$ comorbidites: Factor w/ 2 levels "None","Yes": 1 1 1 1 1 1 1 1 1 1 ...
  .. .. .. ..$ vac_yr      : Factor w/ 10 levels "2006","2007",..: 1 2 3 4 5 6 7 8 9 10 ...
  .. .. .. ..$ response    : Factor w/ 3 levels "No","Don't know",..: 2 3 3 3 2 3 3 3 3 3 ...
  .. .. ..- attr(*, "class")= chr [1:2] "list" "study"
  .. ..$ output_file: chr "hpc/outputs/"
  .. ..$ model_name : chr "vac_mts"
  .. ..$ pars_plot  : chr [1:6] "mu" "sigma1" "tau" "mu_vac" ...
  ..$ prior_function            :function (cur_pars)  
  .. ..- attr(*, "srcref")= 'srcref' int [1:8] 159 30 159 60 30 60 159 159
  .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' <environment: 0x2857740> 
  ..$ custom_ab_kin_func        :function (predicted_titres, theta, infection_info, vaccination_info, setup_data, 
    indexing, antigenic_maps, other_pars)  
  ..$ custom_antigenic_maps_func:function (antigenic_map_melted, theta)  
> cat("\nHELLO", taskIdInteger)

HELLO 5> 
> setup_run_serosolver_working_local(
+         all_models_hcw_pre[[taskIdInteger]],
+         chains = 4,
+         pt = TRUE,
+         filename = "dis_dep",
+         cross_sectional = TRUE,
+         continue_run = FALSE)
Error in serverSocket(port = port) : 
  creation of server socket failed: port 11977 cannot be opened
Calls: setup_run_serosolver_working_local -> makeCluster -> makePSOCKcluster -> serverSocket
Execution halted
